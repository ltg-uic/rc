<!doctype html>
<html lang="en">
<!-- <meta http-equiv="Content-Security-Policy" content="default-src *; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'; img-src * data: 'unsafe-inline'; connect-src * 'unsafe-inline'; frame-src *;">
 -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="roomCast">
  <title>quickguide</title>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="nutella_lib.js" type="text/javascript"></script>
  <script src="roomcast_lib.js" type="text/javascript"></script>
  <style>


body {
    font-family: "Arial";
    overflow: auto;
     color:white;
     font-size: 100%;
}


p {
    display: block;
    margin-top: 0;
    margin-bottom: 3px;
    margin-left: 0;
    margin-right: 0;
}

button {
    font-size: 20px;
}



  </style>

<script type="text/javascript">


  var screenWidth = screen.width; 
  var screenHeight = screen.height;

  // initialize nutella 

  query_parameters = NUTELLA.parseURLParameters();
  nutella = NUTELLA.init(query_parameters.broker, query_parameters.app_id, query_parameters.run_id, NUTELLA.parseComponentId());

  nutella.net.subscribe('fix_URLs',function(dummy){location.reload(true)});

  var version=0;
  var windowList = [
    [],
    [{portal: 'educator', width: screenWidth * .54, height: screenHeight-125, top:0, left:0},{portal: 'station', width: screenWidth * .44, height: screenHeight * .48, top: 0, left: screenWidth * .54+2},{portal: 'station', width: screenWidth * .44, height: screenHeight * .5, top: screenHeight * .5, left: screenWidth * .54+2}],
    [{portal: 'educator', width: screenWidth * .54, height: screenHeight-125, top:0, left:0},{portal: 'station', width: screenWidth * .44, height: screenHeight * .48, top: 0, left: screenWidth * .54+2},{portal: 'station', width: screenWidth * .44, height: screenHeight * .5, top: screenHeight * .5, left: screenWidth * .54+2}],
    [{portal: 'student', width: screenWidth * .25, height: screenHeight* .445, top:0, left:0},{portal: 'student', width: screenWidth * .25, height: screenHeight * .445, top: screenHeight*.467, left: 0},{portal: 'class display', width: screenWidth * .73, height: screenHeight, top: 0, left: screenWidth * .305}],
    [{portal: 'educator', width: screenWidth * .66, height: screenHeight-125, top:0, left:0},{portal: 'station', width: screenWidth * .32, height: screenHeight * .49, top: 0, left: screenWidth*.66},{portal: 'station', width: screenWidth * .32, height: screenHeight * .49, top: screenHeight * .51, left: screenWidth*.66}],
    [{portal: 'domain specialist', width: screenWidth * .66, height: screenHeight-125, top:0, left:0},{portal: 'station', width: screenWidth * .32, height: screenHeight * .49, top: 0, left: screenWidth*.66},{portal: 'station', width: screenWidth * .32, height: screenHeight * .49, top: screenHeight * .51, left: screenWidth*.66}]
  ];


  var chromewindowList = [
    [],
    [{portal: 'educator', width: screenWidth * .54, height: screenHeight-225, top:0, left:0},{portal: 'station', width: screenWidth * .44, height: screenHeight * .441, top: 0, left: screenWidth * .54+2},{portal: 'station', width: screenWidth * .44, height: screenHeight * .45, top: screenHeight * .51, left: screenWidth * .54+2}],
    [{portal: 'educator', width: screenWidth * .54, height: screenHeight-225, top:0, left:0},{portal: 'station', width: screenWidth * .44, height: screenHeight * .441, top: 0, left: screenWidth * .54+2},{portal: 'station', width: screenWidth * .44, height: screenHeight * .45, top: screenHeight * .51, left: screenWidth * .54+2}],
    [{portal: 'student', width: screenWidth * .25, height: screenHeight* .38, top:0, left:0},{portal: 'student', width: screenWidth * .25, height: screenHeight * .38, top: screenHeight*.445, left: 0},{portal: 'class display', width: screenWidth * .73, height: screenHeight, top: 0, left: screenWidth * .305}],
    [{portal: 'educator', width: screenWidth * .66, height: screenHeight-225, top:0, left:0},{portal: 'station', width: screenWidth * .32, height: screenHeight * .441, top: 0, left: screenWidth*.66},{portal: 'station', width: screenWidth * .32, height: screenHeight * .45, top: screenHeight * .51, left: screenWidth*.66}],
    [{portal: 'domain specialist', width: screenWidth * .66, height: screenHeight-225, top:0, left:0},{portal: 'station', width: screenWidth * .32, height: screenHeight * .441, top: 0, left: screenWidth*.66},{portal: 'station', width: screenWidth * .32, height: screenHeight * .45, top: screenHeight * .51, left: screenWidth*.66}]
  ];




  var closer = [{height:100,width:100,top:100,left:100},{height:100,width:screenWidth * .54-2,top:screenHeight,left:3},{height:100,width:screenWidth * .54-2,top:screenHeight,left:3},{height:100,width:screenWidth * .25,top:screenHeight,left:0},{height:100,width: screenWidth * .66-3,top:screenHeight,left:3},{height:100,width: screenWidth * .66-3,top:screenHeight,left:3}];


  // var openWindows = []; 

  var activity = ['','waves &amp; seismograms','planning','trilateration','distributions','waves &amp; seismograms'];

  var names = [];
  for (var i=0; i<5; i++)names.push('w' + i);
  names.push('p');
  names.push('c');

var cw;

$(function() {
  // top.resizeTo(600,600);
var isChrome = !!window.chrome && !!window.chrome.webstore;

  if (isChrome) windowList = chromewindowList;

    // for (var i=0; i<6; i++)names.push('w' + i); 
    // closeAll();

  var baseURL = top.location.href;
      var cURL = top.location.href.replace(/roomcast\/index/,'quickguide/c');

    if (query_parameters.hasOwnProperty('V')) { 
      closeAll();
       version = query_parameters.V; 
     var pURL = top.location.href.replace(/roomcast\/index/,'quickguide/p' + version); 
      for (var i=0; i<windowList[version].length; i++)
          window.open(baseURL + '&portal=' + find_portal(windowList[version][i].portal),names[i],'menubar=0,titlebar=0,width=' + windowList[version][i].width + ',height=' + windowList[version][i].height + ', top=' + windowList[version][i].top+ ',left=' + windowList[version][i].left);
     window.open(pURL,'p','width=' + (screenWidth/2) + ',height=' + (screenHeight/2) + ', top=' + (screenHeight/4) + ',left=' + (screenWidth/4));
     window.open(cURL,'c','width=' + closer[version].width + ',height=' + closer[version].height + ', top=' + closer[version].top + ',left=' + closer[version].left);

   } else {cw =window.open(cURL,'c','width=' + 200 + ',height=' + 100 + ', top=' + screenHeight + ',left=' + '0');}

  // top.document.focus();
    // switch activities if necessary

    if (activity[version] != top.activity.name) { 

      for (var i=0; i<top.activities.activityList.length; i++ ){
        var item = top.activities.activityList[i];
        if (item.name == activity[version]) {
          // if you get here, kill the older windows before you switch activities. it's too late after that.
          // for (var i=0; i<openWindows.length; i++) openWindows[i].close();
          top.activity = {ID:item.ID,name:item.name};
          top.set_activity({ID:item.ID,name:item.name});
          break;
        };
      };

    }; 

  });


function find_portal(name){
  var pp = top.portals.portalList.filter(function(item){
    return (item.name == name);
  });
  if (pp.length == 0) return (0);
  return (pp[0].ID); 
}


function gothere(p){
  // for (var i=0; i<openWindows.length; i++) openWindows[i].close();
  // newWin = window.open('','c');
  // newWin.close();
  location.href = location.href + '&V=' + p;
}


function closeAll() { console.log('names.length'); console.log(names.length);
  for (var i=0; i<names.length; i++) { 
    var newWin = window.open('', names[i]);
    if (!(newWin === null)) newWin.close();     
  };
  return false;
  // var newWin = window.open('','p');
  // newWin.close();
}


// function closeAll() { console.log('i got called');
//   var newWin = window.open('','p');
//   newWin.close();
//   newWin = window.open('','c');
//   newWin.close();
//   for (var i=0; i<names.length; i++) { 
//     var newWin = window.open('', names[i]);
//     if (newWin === null) return;
//     newWin.close();  
//   };
//   return false;
//   // var newWin = window.open('','p');
//   // newWin.close();
// }

document.handOver = function() {window.focus();};

</script>
</head>
<body>
  <div hidden id="portals"></div>  
  <button onclick="gothere(1); return false;"> waves & seismograms </button>
  <button onclick="gothere(2); return false;"> planning </button>
  <button onclick="gothere(3); return false;"> trilateration </button>
  <button onclick="gothere(4); return false;"> distributions </button>
  <button onclick="gothere(5); return false;"> domain specialist </button>
  <button type="button" id="closeAll" onclick="closeAll();return false;">close all windows</button>
<br><br>
<div style="font-size: 125%">
<b>An introduction to RoomQuake</b>
<br><br>
RoomQuake is a collection of web-based resources that can be used to support development of understandings surrounding earthquakes, the waves that they generate, the instruments that detect seismic events, the ways that they those instruments can be used to determine properties of earthquakes, and the distributions of earthquakes over time. In RoomQuake, the classroom community adopts the conceit that their room is a geographic area of seismic activity. Computers situated around the room serve as simulated seismographs that respond to "roomquakes" triggered by the teacher. In addition to the simulated seismographs, the RoomQuake resource suite includes tools designed for use by teachers, individuals groups of learners, and whole classes, domain specialist partners, and researchers. 
<br><br>
RoomQuake is a distributed application that runs concurrently on multiple computing devices. RoomQuake resources can been used to support a wide range of classroom learning activities and technology inventories. Depending on the learning objectives and available resources, RoomQuake activities might use as few as two computers (a single seismograph and teacher laptop used to study waves and seismograms), or more than 30 (multiple seismographs, individual student tablets or laptops, public displays, specialists' laptops, used to study distribution of location and intensity in a series of several dozen events). 
<br><br>
The digital resources needed to support different designs are configured, and distributed to the classroom during enactment, using the RoomCast design specification and run-time system. RoomCast is in turn built upon the nutella software framework, designed to support multi-user whole class learning activities. 
<br><br>
The buttons above will initialize interactive examples of roomQuake activities and their associated digital resources. For purposes of the demonstration, each activity is presented as a collection of web browser window reflecting "portals" into the roomQuake enactment; in practice, these would instead be shown on separate devices. The windows can be moved and resized as needed. Return to this window to select a new activity.
<br><br>
(Please excuse the red box in the lower left-hand corner. It will go away as soon as you select an activity.)<br><br>
Tom Moher (moher @ uic dot edu)<br>
Learning Sciences Research Institute<br>
University of Illinois at Chicago<br>

</div><br>
<table>
  <tr>
    <td>
      <img src="nsf.png" height=100 width=100>
    </td>
    <td style="color:gold;"> This material is based upon work supported by the National Science Foundation under Grant Nos. 1065275 and 1324977. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.
    </td>
  </tr>
</table>


<!-- 
designer: <span id='designer'></span><br><br>
administrative : <span id='administrative'></span><br><br>
educator : <span id='educator'></span><br><br>
participant : <span id='participant'></span><br><br>
public   : <span id='public'></span><br><br>
 
 -->
</body>
</html>